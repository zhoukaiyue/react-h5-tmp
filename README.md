<!--
 * @Descripttion: é¡¹ç›®æè¿°æ–‡ä»¶
 * @version:
 * @Author: zhoukai
 * @Date: 2022-07-28 09:54:02
 * @LastEditors: zhoukai
 * @LastEditTime: 2022-10-20 14:48:26
-->

# ç®€ä»‹

react-h5-tmp æ˜¯åŸºäº create-react-app(v5) åˆ›å»ºå¹¶ä½¿ç”¨ antd-mobile ä½œä¸º UI ç»„ä»¶åº“çš„ä¸€ä¸ªç§»åŠ¨ç«¯è„šæ‰‹æ¶ï¼Œå¼€ç®±å³ç”¨ã€‚
å¦ä½¿ç”¨ cracoï¼ˆä¸€ä¸ªå¯¹ create-react-app è¿›è¡Œè‡ªå®šä¹‰é…ç½®çš„ç¤¾åŒºè§£å†³æ–¹æ¡ˆï¼‰ å¯¹ create-react-app çš„é»˜è®¤é…ç½®è¿›è¡Œè‡ªå®šä¹‰è®¾ç½®ã€‚

## ç¯å¢ƒè¦æ±‚

-   node 14+

## ç¼–è¾‘å™¨ä»¥åŠå¯¹åº”æ‰©å±•

-   Visual Studio 69+
-   Vetur v0.35.0
-   Eslint v2.2.6
-   Prettier - Code formatter v9.5.0

## å¿«é€Ÿå¼€å‘

```
#å®‰è£…é¡¹ç›®ä¾èµ–
pnpm install
#å¼€å‘ç¯å¢ƒå¯åŠ¨
pnpm start
#æ‰“åŒ… test ç¯å¢ƒä»£ç 
pnpm build:test
#æ‰“åŒ…ç”Ÿäº§ç¯å¢ƒä»£ç 
pnpm build or pnpm build:prod
#æ‰§è¡Œ js ç±»å‹æ£€æŸ¥
pnpm lint:fix
#æ‰§è¡Œ prettier æ‰¹é‡æ ¼å¼åŒ–ä»£ç 
pnpm lint:prettier

##æ³¨ï¼šè¯¦ç»†è¯·é˜…è¯»package.json ä»¥åŠå¯¹åº”çš„ç¯å¢ƒé…ç½®æ–‡ä»¶ï¼ˆå³.env æ–‡ä»¶ï¼‰ï¼
```

## å¼€å‘åŸºç¡€è§„èŒƒ

<font  color="red">å¦‚æœè®¾è®¡ç¨¿çš„å°ºå¯¸ä¸æ˜¯ 750ï¼Œè€Œæ˜¯ 375 æˆ–å…¶ä»–å¤§å°ï¼Œè¯·åœ¨ .postcssrc.js ä¸­åŠæ—¶è°ƒæ•´ rootValueã€‚</font>

-   ğŸš€ é‡è¦ã€å¤æ‚é€»è¾‘ä¸€å®šè¦å†™æ³¨é‡Šï¼›
-   ğŸš€ ä»£ç è§„èŒƒæŒ‰ç…§ eslint çš„è§„åˆ™æ¥ï¼Œåšåˆ° no waring å’Œ no errorï¼›
-   ğŸš€ é¢„ç¼–è¯‘ä½¿ç”¨ sassï¼›
-   ğŸš€ æ“ä½œæˆåŠŸæˆ–å¤±è´¥åè¦æœ‰æç¤ºï¼Œæ¯”å¦‚æ–°å¢æˆåŠŸã€æ–°å¢å¤±è´¥è¿è¡Œæ—¶é—´é•¿çš„ä»»åŠ¡ï¼ˆè®¡ç®—é‡å¤§ã€è¯·æ±‚åå°æ¥å£ï¼‰ï¼Œè¦æœ‰ loadding æ•ˆæœï¼›
-   ğŸš€ å…¬å…±çš„çŠ¶æ€æ‰æ”¾åˆ° storeï¼›
-   ğŸš€ ä»£ç å°½é‡å¾€çºµå‘å‘å±•ï¼Œä¸€è¡Œä¸è¦å¤ªé•¿ï¼›
-   ğŸš€ ä¸è¦åœ¨é’©å­å‡½æ•°ä¸­å†™å¤§é‡ä¸šåŠ¡ä»£ç ï¼›
-   ğŸš€ å¼‚æ­¥ä½¿ç”¨ aysnc await è¯­æ³•ï¼›
-   ğŸš€ ä¸æ˜¯å¸¸ç”¨çš„æ–¹æ³•ä¸è¦å…¨å±€æŒ‚è½½ï¼›

### åŸºç¡€ç»„ä»¶åã€‚ ã€æ³¨ï¼šsrc/components ç›®å½•ã€‚ã€‘

> åº”è¯¥å…¨éƒ¨ä»¥ä¸€ä¸ªç‰¹å®šçš„å‰ç¼€ Base å¼€å¤´ã€‚

```
ä¾‹å­ï¼š
src
â””â”€ resources
   â””â”€ components
      |- BaseButton.vue
      |- BaseTable.vue
      |- BaseIcon.vue
```

### ä¸šåŠ¡ç»„ä»¶åã€‚ ã€æ³¨ï¼šsrc/views/components ç›®å½•ã€‚ã€‘

> åº”è¯¥å…¨éƒ¨ä»¥ä¸€ä¸ªç‰¹å®šçš„å‰ç¼€ The å¼€å¤´ã€‚

```
ä¾‹å­ï¼š
src
â””â”€ views
   â””â”€ components
      |- TheButton.vue
      |- TheTable.vue
      |- TheIcon.vue
```

### è·¯ç”±æ–‡ä»¶åˆ›å»ºä¸å‘½åã€‚ ã€æ³¨ï¼šsrc/config/router ç›®å½•ã€‚ã€‘

ä¸ºäº†æ–¹ä¾¿ç»´æŠ¤ä¸å¼€å‘ï¼Œå»ºè®®è·¯ç”±æ–‡ä»¶å‘½åä¸å¯¹åº”çš„é¡µé¢æ–‡ä»¶å‘½åä¿æŒä¸€è‡´ï¼Œå°½é‡ç®€æ´æ˜äº†ã€‚

```
ä¾‹å­ï¼š
src
â””â”€ config
   â””â”€ router
      |- index.js
      |- dev.js
      |- home.js
```

### æ¥å£æ–‡ä»¶åˆ›å»ºä¸å‘½åã€‚ ã€æ³¨ï¼šsrc/config/apis ç›®å½•ã€‚ã€‘

ä¸ºäº†æ–¹ä¾¿ç»´æŠ¤ä¸å¼€å‘ï¼Œå»ºè®®æ¥å£æ–‡ä»¶å‘½åä¸å¯¹åº”çš„é¡µé¢æ–‡ä»¶å‘½åä¿æŒä¸€è‡´ï¼Œå°½é‡ç®€æ´æ˜äº†ã€‚

```
ä¾‹å­ï¼š
src
â””â”€ config
   â””â”€ apis
      |- index.js
      |- home.js
```

### çŠ¶æ€åˆ‡ç‰‡æ–‡ä»¶åˆ›å»ºä¸å‘½åã€‚ ã€æ³¨ï¼šsrc/config/store ç›®å½•ã€‚ã€‘

ä¸ºäº†æ–¹ä¾¿ç»´æŠ¤ä¸å¼€å‘ï¼Œå»ºè®®ä»¥å½“å‰å¯¹åº”æ¨¡å—æˆ–è€…åŠŸèƒ½å‘½åæ–‡ä»¶å¤¹ï¼Œå°½é‡ç®€æ´æ˜äº†ã€‚

```
ä¾‹å­ï¼š
src
â””â”€ config
   â””â”€ store
      â””â”€ dev
         |- index.js
      â””â”€ home
         |- index.js
```

### å›¾ç‰‡èµ„æºã€‚ ã€æ³¨ï¼šsrc/assets/img ç›®å½•ã€‚ã€‘

å»ºè®®å›¾ç‰‡æ–‡ä»¶å¤¹å‘½åä¸å¯¹åº”çš„é¡µé¢æ–‡ä»¶å‘½åä¿æŒä¸€è‡´ï¼Œå…¬å…±å›¾ç‰‡èµ„æºæ”¾ç½®åˆ° src/assets/img/base ç›®å½•ä¸‹å³å¯ã€‚

```
ä¾‹å­ï¼š
src
â””â”€ assets
   â””â”€ img
      |- index
      |- dev
      |- base
```

## git ç‰ˆæœ¬è§„èŒƒ

### åˆ†æ”¯ç®¡ç†

ä¸€èˆ¬é¡¹ç›®åˆ†ä¸»åˆ†æ”¯ï¼ˆmasterï¼‰å’Œå…¶ä»–åˆ†æ”¯ã€‚ å½“æœ‰å›¢é˜Ÿæˆå‘˜è¦å¼€å‘æ–°åŠŸèƒ½(Feather)æˆ–æ”¹ BUG(Fix) æ—¶ï¼Œå°±ä» master åˆ†æ”¯å¼€ä¸€ä¸ªæ–°çš„åˆ†æ”¯ã€‚

### Commit è§„èŒƒ

- feat æ–°å¢åŠŸèƒ½
- fix ä¿®å¤ bug
- docs æ–‡æ¡£å˜æ›´
- style ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼Œä¾‹å¦‚ç©ºæ ¼ã€åˆ†å·ç­‰æ ¼å¼ä¿®æ­£ï¼‰
- refactor ä»£ç é‡æ„
- perf æ”¹å–„æ€§èƒ½
- test æµ‹è¯•
- build å˜æ›´é¡¹ç›®æ„å»ºæˆ–å¤–éƒ¨ä¾èµ–ï¼ˆä¾‹å¦‚ scopes: webpackã€gulpã€npm ç­‰ï¼‰
- ci æ›´æ”¹æŒç»­é›†æˆè½¯ä»¶çš„é…ç½®æ–‡ä»¶å’Œ package ä¸­çš„ scripts å‘½ä»¤ï¼Œä¾‹å¦‚ scopes: Travis, Circle ç­‰
- chore å˜æ›´æ„å»ºæµç¨‹æˆ–è¾…åŠ©å·¥å…·
- revert ä»£ç å›é€€

### Tag ç‰ˆæœ¬å·

ç‰ˆæœ¬å·ä»¥ v å¼€å¤´ï¼Œæ ¹æ®å½“å‰ä»“åº“çš„ tag ç¼–å·è¿›è¡Œç´¯åŠ ï¼Œå¦‚ï¼šv1.10.45ã€‚

## é¡¹ç›®ç›®å½•è¯´æ˜

```
react-h5-tmp
â”œâ”€ .env.development            // å¼€å‘ç¯å¢ƒé…ç½®æ–‡ä»¶
â”œâ”€ .env.production             // ç”Ÿäº§ç¯å¢ƒé…ç½®æ–‡ä»¶
â”œâ”€ .env.test                   // ç°åº¦ or æµ‹è¯• or or uatç¯å¢ƒé…ç½®æ–‡ä»¶
â”œâ”€ .eslintignore               //
â”œâ”€ .eslintrc.js                // ESlinté…ç½®æ–‡ä»¶
â”œâ”€ .prettierrc.js              // prettieré…ç½®æ–‡ä»¶
â”œâ”€ craco.config.js             // æ„å»ºè„šæœ¬ï¼ˆwebpacké…ç½®ï¼‰
â”œâ”€ package-lock.json           //
â”œâ”€ package.json                // é¡¹ç›®æè¿°æ–‡ä»¶
â”œâ”€ postcss.config.js           //
â”œâ”€ public                      //
â”‚  â”œâ”€ index.html               //
â”‚  â””â”€ static                   // é™æ€èµ„æº
â”‚     â””â”€ favicon.ico           //
â””â”€ src                         // æºç ç›®å½•
   â”œâ”€ assets                   // é™æ€èµ„æº hashå¤„ç†
   â”‚  â”œâ”€ css                   // css
   â”‚  â”‚  â”œâ”€ index.scss         //
   â”‚  â”‚  â””â”€ utils              //
   â”‚  â”‚     â””â”€ @util.scss      //
   â”‚  â”œâ”€ img                   // img
   â”‚  â”‚  â””â”€ base               //
   â”‚  â”‚     â””â”€ empty.png       //
   â”‚  â””â”€ js                    // js
   â”œâ”€ config                   // é¡¹ç›®é…å¥—çš„ç¬¬ä¸‰æ–¹åŒ…é…ç½®
   â”‚  â”œâ”€ apis                  // ä¸šåŠ¡æ¨¡å—æ¥å£é…ç½®
   â”‚  â””â”€ router                // ä¸šåŠ¡æ¨¡å—routeré…ç½®
   â”‚     â”œâ”€ dev.js             //
   â”‚     â””â”€ index.js           //
   â”œâ”€ index.js                 // å…¥å£jsæ–‡ä»¶
   â”œâ”€ layout                   // å¸ƒå±€ç»„ä»¶
   â”‚  â”œâ”€ frame-view            //
   â”‚  â”‚  â”œâ”€ index.js           //
   â”‚  â”‚  â””â”€ index.scss         //
   â”‚  â””â”€ tabbar                //
   â”‚     â””â”€ index.js           //
   â”œâ”€ packages                 // é¡¹ç›®é…å¥—çš„ç¬¬ä¸‰æ–¹åŒ…
   â”‚  â”œâ”€ request               // axios
   â”‚  â”‚  â”œâ”€ index.js           //
   â”‚  â”‚  â””â”€ loading            //
   â”‚  â”‚     â””â”€ index.js        //
   â”‚  â””â”€ router                // router
   â”‚     â”œâ”€ index.js           //
   â”‚     â””â”€ router404.js       //
   â”œâ”€ reportWebVitals.js       //
   â”œâ”€ resources                // å…¨å±€åŸºç¡€èµ„æºå¦‚åŸºç¡€ç»„ä»¶ã€å…¨å±€æ’ä»¶ç­‰
   â”‚  â”œâ”€ components            // åŸºç¡€ç»„ä»¶
   â”‚  â”‚  â”œâ”€ base-list          //
   â”‚  â”‚  â”‚  â”œâ”€ index.vue       //
   â”‚  â”‚  â”‚  â””â”€ README.md       //
   â”‚  â”‚  â””â”€ tab                //
   â”‚  â””â”€ plugin                // å…¨å±€æ’ä»¶
   â”œâ”€ utils                    // å·¥å…·ç±»
   â”‚  â”œâ”€ helper                // å¸®åŠ©ç±»
   â”‚  â””â”€ tools                 // å…¶ä»–å·¥å…·ç±»
   â”‚     â”œâ”€ deep-clone         //
   â”‚     â””â”€ get-realpx         //
   â”‚        â””â”€ index.js        //
   â””â”€ views                    //  é¡µé¢çº§èµ„æº
      â”œâ”€ app                   //
      â”‚  â””â”€ App.js             //
      â”œâ”€ dev                   //
      â”‚  â”œâ”€ components         //
      â”‚  â”‚  â”œâ”€ layOut          //
      â”‚  â”‚  â”‚  â””â”€ index.js     //
      â”‚  â”‚  â””â”€ list            //
      â”‚  â””â”€ index.js           //
      â”œâ”€ err404                //
      â”‚  â”œâ”€ index.js           //
      â”‚  â””â”€ index.scss         //
      â””â”€ index                 //
         â”œâ”€ index.js           //
         â””â”€ index.scss         //

```
